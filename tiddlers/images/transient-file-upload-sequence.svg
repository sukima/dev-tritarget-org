<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="662px" preserveAspectRatio="none" style="width:709px;height:662px;" version="1.1" viewBox="0 0 709 662" width="709px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hn4vhsbw6v6q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="275.75" y="23.5352">Transient file uploads</text><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="204.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="219.5" y="148.2871"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="172.5527" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="219.5" y="381.7715"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="87.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="463.5" y="177.5977"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="71.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="463.5" y="453.3926"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="206.9082"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="116.9766" y2="572.3242"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="224.5" x2="224.5" y1="116.9766" y2="572.3242"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="468" x2="468" y1="116.9766" y2="572.3242"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="661.5" x2="661.5" y1="116.9766" y2="572.3242"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="8" y="114.0234">Alice</text><ellipse cx="27.5" cy="43.4883" fill="#FEFECE" filter="url(#f1hn4vhsbw6v6q)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27.5,51.4883 L27.5,78.4883 M14.5,59.4883 L40.5,59.4883 M27.5,78.4883 L14.5,93.4883 M27.5,78.4883 L40.5,93.4883 " fill="none" filter="url(#f1hn4vhsbw6v6q)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="8" y="584.8594">Alice</text><ellipse cx="27.5" cy="597.8125" fill="#FEFECE" filter="url(#f1hn4vhsbw6v6q)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27.5,605.8125 L27.5,632.8125 M14.5,613.8125 L40.5,613.8125 M27.5,632.8125 L14.5,647.8125 M27.5,632.8125 L40.5,647.8125 " fill="none" filter="url(#f1hn4vhsbw6v6q)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1hn4vhsbw6v6q)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="195.5" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="202.5" y="102.0234">Client</text><rect fill="#FEFECE" filter="url(#f1hn4vhsbw6v6q)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="195.5" y="571.3242"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="202.5" y="591.8594">Client</text><rect fill="#FEFECE" filter="url(#f1hn4vhsbw6v6q)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="438" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="445" y="102.0234">Server</text><rect fill="#FEFECE" filter="url(#f1hn4vhsbw6v6q)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="438" y="571.3242"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="445" y="591.8594">Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="621" y="97.5352">File system</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="619.5" y="114.0234">Amazon S3</text><path d="M643.5,48 C643.5,38 661.5,38 661.5,38 C661.5,38 679.5,38 679.5,48 L679.5,74 C679.5,84 661.5,84 661.5,84 C661.5,84 643.5,84 643.5,74 L643.5,48 " fill="#FEFECE" filter="url(#f1hn4vhsbw6v6q)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M643.5,48 C643.5,58 661.5,58 661.5,58 C661.5,58 679.5,58 679.5,48 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="621" y="584.8594">File system</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="619.5" y="601.3477">Amazon S3</text><path d="M643.5,614.3008 C643.5,604.3008 661.5,604.3008 661.5,604.3008 C661.5,604.3008 679.5,604.3008 679.5,614.3008 L679.5,640.3008 C679.5,650.3008 661.5,650.3008 661.5,650.3008 C661.5,650.3008 643.5,650.3008 643.5,640.3008 L643.5,614.3008 " fill="#FEFECE" filter="url(#f1hn4vhsbw6v6q)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M643.5,614.3008 C643.5,624.3008 661.5,624.3008 661.5,624.3008 C661.5,624.3008 679.5,624.3008 679.5,614.3008 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="204.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="219.5" y="148.2871"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="172.5527" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="219.5" y="381.7715"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="87.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="463.5" y="177.5977"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="71.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="463.5" y="453.3926"/><rect fill="#FFFFFF" filter="url(#f1hn4vhsbw6v6q)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="206.9082"/><polygon fill="#A80036" points="207.5,144.2871,217.5,148.2871,207.5,152.2871,211.5,148.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27.5" x2="213.5" y1="148.2871" y2="148.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="34.5" y="143.5449">Adds file via file picker</text><polygon fill="#A80036" points="451.5,173.5977,461.5,177.5977,451.5,181.5977,455.5,177.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229.5" x2="457.5" y1="177.5977" y2="177.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="236.5" y="172.8555">POST file</text><polygon fill="#A80036" points="644.5,202.9082,654.5,206.9082,644.5,210.9082,648.5,206.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="473.5" x2="650.5" y1="206.9082" y2="206.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="480.5" y="202.166">Uploads file using API key</text><polygon fill="#A80036" points="484.5,232.2188,474.5,236.2188,484.5,240.2188,480.5,236.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="478.5" x2="660.5" y1="236.2188" y2="236.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="490.5" y="231.4766">Unique URL</text><polygon fill="#A80036" points="240.5,261.5293,230.5,265.5293,240.5,269.5293,236.5,265.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="234.5" x2="467.5" y1="265.5293" y2="265.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="246.5" y="260.7871">Unique URL</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="229.5" x2="271.5" y1="294.8398" y2="294.8398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="294.8398" y2="307.8398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230.5" x2="271.5" y1="307.8398" y2="307.8398"/><polygon fill="#A80036" points="240.5,303.8398,230.5,307.8398,240.5,311.8398,236.5,307.8398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="236.5" y="290.0977">store Unique URL</text><polygon fill="#A80036" points="38.5,348.4609,28.5,352.4609,38.5,356.4609,34.5,352.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32.5" x2="223.5" y1="352.4609" y2="352.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="44.5" y="332.4082">Show that attachment is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="44.5" y="347.7188">attached and ready to save</text><polygon fill="#A80036" points="207.5,377.7715,217.5,381.7715,207.5,385.7715,211.5,381.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27.5" x2="213.5" y1="381.7715" y2="381.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="34.5" y="377.0293">User clicks save button</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="229.5" x2="271.5" y1="411.082" y2="411.082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="411.082" y2="424.082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230.5" x2="271.5" y1="424.082" y2="424.082"/><polygon fill="#A80036" points="240.5,420.082,230.5,424.082,240.5,428.082,236.5,424.082" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="236.5" y="406.3398">place previous Unique ID on model</text><polygon fill="#A80036" points="451.5,449.3926,461.5,453.3926,451.5,457.3926,455.5,453.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229.5" x2="457.5" y1="453.3926" y2="453.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="236.5" y="448.6504">PATCH model</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="473.5" x2="515.5" y1="482.7031" y2="482.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="515.5" y1="482.7031" y2="495.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="474.5" x2="515.5" y1="495.7031" y2="495.7031"/><polygon fill="#A80036" points="484.5,491.7031,474.5,495.7031,484.5,499.7031,480.5,495.7031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="480.5" y="477.9609">model.save()</text><polygon fill="#A80036" points="240.5,521.0137,230.5,525.0137,240.5,529.0137,236.5,525.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="234.5" x2="467.5" y1="525.0137" y2="525.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="246.5" y="520.2715">200 OK</text><polygon fill="#A80036" points="38.5,550.3242,28.5,554.3242,38.5,558.3242,34.5,554.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32.5" x2="223.5" y1="554.3242" y2="554.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="44.5" y="549.582">Complete UI edits</text><!--
@startuml

title Transient file uploads

actor Alice
participant Client as Ember
participant Server
database "File system\nAmazon S3" as Amazon

Alice -> Ember: Adds file via file picker
activate Ember
Ember -> Server: POST file
activate Server
Server -> Amazon: Uploads file using API key
activate Amazon
Server <- - Amazon: Unique URL
deactivate Amazon
Ember <- - Server: Unique URL
deactivate Server
Ember -> Ember: store Unique URL
Alice <- - Ember: Show that attachment is\nattached and ready to save
deactivate Ember

Alice -> Ember: User clicks save button
activate Ember
Ember -> Ember: place previous Unique ID on model
Ember -> Server: PATCH model
activate Server
Server -> Server: model.save()
Ember <- - Server: 200 OK
deactivate Server
Alice <- - Ember: Complete UI edits
deactivate Ember

@enduml

PlantUML version 1.2018.05(Sat May 05 16:00:17 EDT 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_144-b01
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>